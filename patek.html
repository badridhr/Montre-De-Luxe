<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="logo.jpg" type="image/x-icon">
  <title>PATEK PHILIPPE - MaLuxury</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Michroma&display=swap" rel="stylesheet">
</head>
<body>
    <header class="site-header">
    <div class="top-bar">
        <p>D√©penser 9500 Da & Profitez D'une Livraison Gratuite!</p>
    </div>

    <div class="main-header">
        <div class="mobile-left">
            <button class="menu-toggle" aria-label="Ouvrir le menu">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="26" height="26">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
            <button class="icon-link search-toggle mobile-search" aria-label="Recherche">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="20" height="20">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
            </button>
        </div>

        <div class="header-logo mobile-logo">
            <a href="/" class="logo-text">Montre De Luxe</a>
        </div>
        <div class="header-right">
            <a href="account.html" class="icon-link" aria-label="Compte">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="22" height="22">
                    <circle cx="12" cy="7" r="4"/>
                    <path d="M5.5 21a7 7 0 0 1 13 0"/>
                </svg>
            </a>
            <button class="icon-link cart-toggle" aria-label="Panier">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="22" height="22">
                    <path d="M6 6h15l-1.5 9h-12z"/>
                    <circle cx="9" cy="20" r="1"/>
                    <circle cx="18" cy="20" r="1"/>
                </svg>
                <span class="cart-count" id="cartCount">0</span>
            </button>
        </div>

        <!-- Partie centre (navigation desktop) -->
        <div class="header-center">
            <nav class="nav-menu">
                <a href="contact.html">CONTACT</a>
                <a href="rolex.html">ROLEX</a>
                <a href="omega.html">OMEGA</a>
            </nav>

            <div class="header-logo desktop-logo">
                <a href="/" class="logo-text">Montre De Luxe</a>
            </div>

            <nav class="nav-menu">
                <a href="hublot.html">HUBLOT</a>
                <a href="patek.html">PATEK PHILIPPE</a>
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle">MORE</a>
                    <div class="dropdown-menu">
                        <a href="aumdemares.html">AUDEMARES PIGUET</a>
                        <a href="rolex3a.html">ROLEX 3A</a>
                        <a href="rolexfemme.html">ROLEX Femme</a>
                        <a href="faqs.html">FAQs</a>
                    </div>
                </div>
            </nav>
        </div>

        <!-- Partie gauche desktop (recherche) - CACH√â SUR MOBILE -->
        <div class="header-left">
            <button class="icon-link search-toggle" aria-label="Recherche">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="20" height="20">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Menu mobile -->
    <div class="mobile-menu-overlay"></div>
    <div class="mobile-menu">
        <button class="close-menu" aria-label="Fermer le menu">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="24" height="24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M18 6l-12 12"/>
            </svg>
        </button>
        
        <nav class="nav-mobile">
            <a href="index.html">ACCUEIl</a>
            <a href="contact.html">CONTACT</a>
            <a href="rolex.html">ROLEX</a>
            <a href="omega.html">OMEGA</a>
            <a href="hublot.html">HUBLOT</a>
            <a href="patek.html">PATEK PHILIPPE</a>
            <a href="aumdemares.html">AUDEMARES PIGUET</a>
            <a href="rolex3a.html">ROLEX 3A</a>
             <a href="rolexfemme.html">ROLEX FEMME</a>
            <a href="faqs.html">FAQs</a>

        </nav>
    </div>
</header>

<!-- Popup recherche -->
<div class="search-popup">
    <div class="search-container">
        <div class="search-header">
            <h3>Rechercher dans tous les produits</h3>
            <button class="close-search" aria-label="Fermer">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#000" stroke-width="1.5" viewBox="0 0 24 24" width="20" height="20">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M18 6l-12 12"/>
                </svg>
            </button>
        </div>
        
        <div class="search-box">
            <form action="rolex.html" method="get" role="search">
                <div class="search-input-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="18" height="18" class="search-icon">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                    <input type="search" name="q" placeholder="Rechercher Rolex, Omega, Hublot..." aria-label="Recherche dans tous les produits" autofocus>
                    <button type="submit" style="display: none;">Rechercher</button>
                </div>
            </form>
        </div>
        
        <!-- Suggestions rapides -->
        <div class="search-suggestions">
            <p style="margin-bottom: 10px; color: #666; font-size: 14px;">Suggestions :</p>
            <div class="suggestion-tags">
            <a href="index.html">ACCUEIl</a>
            <a href="contact.html">CONTACT</a>
            <a href="rolex.html">ROLEX</a>
            <a href="omega.html">OMEGA</a>
            <a href="hublot.html">HUBLOT</a>
            <a href="patek.html">PATEK PHILIPPE</a>
            <a href="aumdemares.html">AUDEMARES PIGUET</a>
            <a href="rolex3a.html">ROLEX 3A</a>
            </div>
        </div>
    </div>
</div>


<!-- Modal de d√©tails produit -->
<div class="product-details-modal" id="productDetailsModal">
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="modal-content">
        <button class="close-modal" id="closeModal">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#333" stroke-width="1.5" viewBox="0 0 24 24" width="24" height="24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M18 6l-12 12"/>
            </svg>
        </button>
        
        <div class="modal-body" id="modalBody">
            <!-- Le contenu sera charg√© dynamiquement -->
        </div>
    </div>
</div>

<!-- Panier sidebar -->
<div class="cart-overlay" id="cartOverlay"></div>
<div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
        <h3>Votre panier (<span id="sidebarCartCount">0</span>)</h3>
        <button class="close-cart" id="closeCart" aria-label="Fermer le panier">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#333" stroke-width="1.5" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M18 6l-12 12"/>
            </svg>
        </button>
    </div>

    <div class="shipping-progress" id="shippingProgress"></div>

    <div class="cart-content">
        <div id="cartItems"></div>

        <div class="empty-cart" id="emptyCartMessage" style="display: none;">
            <p>Votre panier est vide. üõçÔ∏è</p>
            <a href="/allproduits.html" class="continue-shopping">Continuer les achats</a>
        </div>
        
        <div class="special-instructions" id="specialInstructionsSection" style="display: none;">
            <label class="instructions-label">Instructions sp√©ciales concernant la commande</label>
            <div class="instructions-placeholder-box" id="instructionsPlaceholder">Ajouter des instructions sp√©ciales pour votre commande</div>
            <textarea id="instructionsInput" class="instructions-input" placeholder="√âcrivez vos instructions ici..."></textarea>
        </div>
    </div>

    <div class="cart-footer" id="cartFooter" style="display: none;">
        <div class="subtotal">
            <span>Sous-total</span>
            <span id="subtotalAmount">DA 0 DZD</span>
        </div>
       <button class="checkout-btn" onclick="window.location.href='paiment.html'">JE VALIDE MA COMMANDE</button>
    </div>
</div>

  <!-- Promo Bar -->


  <!-- Page Title -->
  <section class="page-title">
    PATEK PHILIPPE
  </section>

  <!-- Filter and Sort Bar -->
  <div class="filter-sort-bar">
    <div class="filter-toggle">
      <button class="filter-btn" id="mobileFilterToggle">
        <i class="fas fa-filter"></i>
        Filtres
        <span class="filter-count" id="mobileFilterCount">0</span>
      </button>
    </div>
    
    <div class="sort-options">
      <span class="sort-label">Trier par:</span>
      <select id="mobileSortSelect">
        <option value="best-selling">Meilleures ventes</option>
        <option value="price-asc">Prix croissant</option>
        <option value="price-desc">Prix d√©croissant</option>
        <option value="newest">Nouveaut√©s</option>
      </select>
    </div>
    
    <div class="results-count">
      <span id="productsCount">8 produits</span>
    </div>
  </div>

  <!-- Mobile Filter Sidebar -->
  <div class="mobile-filter-overlay" id="mobileFilterOverlay"></div>
  <div class="mobile-filter-sidebar" id="mobileFilterSidebar">
    <div class="filter-header">
      <h3>Filtres</h3>
      <button class="close-filter" id="closeMobileFilter">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#1c3934" stroke-width="1.5" viewBox="0 0 24 24" width="20" height="20">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M18 6l-12 12"/>
        </svg>
      </button>
    </div>
    
    <div class="filter-content">
      <div class="filter-section">
        <h3 class="filter-heading">Disponibilit√©</h3>
        <div class="filter-option">
          <input type="checkbox" id="mobile-en-stock" checked>
          <label for="mobile-en-stock">En stock</label>
        </div>
        <div class="filter-option">
          <input type="checkbox" id="mobile-rupture">
          <label for="mobile-rupture">En rupture de stock</label>
        </div>
      </div>

      <div class="filter-section">
        <h3 class="filter-heading">Prix</h3>
        <p class="price-info">Le prix le plus √©lev√© est de 36,200 Da</p>
        <div class="price-range">
          <div class="price-inputs">
            <div class="price-input-group">
              <span class="currency-symbol">ÿØ.ÿ¨</span>
              <input type="number" id="mobile-price-min" placeholder="De" min="0" max="36200">
            </div>
            <div class="price-input-group">
              <span class="currency-symbol">ÿØ.ÿ¨</span>
              <input type="number" id="mobile-price-max" placeholder="√Ä" min="0" max="36200">
            </div>
          </div>
          <button class="apply-price-filter" id="mobile-applyPriceFilter">Appliquer</button>
        </div>
      </div>
      
      <div class="filter-actions">
        <button class="clear-filters" id="mobileClearFilters">Effacer tout</button>
        <button class="apply-filters" id="mobileApplyFilters">Appliquer les filtres</button>
      </div>
    </div>
  </div>

  <!-- Main -->
  <div class="main-container">

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="filter-section">
        <h3 class="filter-heading">Disponibilit√©</h3>
        <div class="filter-option">
          <input type="checkbox" id="en-stock" checked>
          <label for="en-stock">En stock</label>
        </div>
        <div class="filter-option">
          <input type="checkbox" id="rupture">
          <label for="rupture">En rupture de stock</label>
        </div>
      </div>

      <div class="filter-section">
        <h3 class="filter-heading">Prix</h3>
        <p class="price-info">Le prix le plus √©lev√© est de 36,200 Da</p>
        <div class="price-range">
          <div class="price-inputs">
            <div class="price-input-group">
              <span class="currency-symbol">ÿØ.ÿ¨</span>
              <input type="number" id="price-min" placeholder="De" min="0" max="36200">
            </div>
            <div class="price-input-group">
              <span class="currency-symbol">ÿØ.ÿ¨</span>
              <input type="number" id="price-max" placeholder="√Ä" min="0" max="36200">
            </div>
          </div>
          <button class="apply-price-filter" id="applyPriceFilter">Appliquer</button>
        </div>
      </div>
    </aside>

    <!-- Products -->
    <section class="products-grid">
      <div class="sort-container">
        </select>
      </div>

      <div class="product-list" id="productList">
        <!-- Produits dynamiques -->
      </div>
    </section>

  </div>

<style>
    /* D√©finition des couleurs principales */
    :root {
        --header-color: #1c3934;
        --primary-color-cart: #1c3934;
        --primary-color-cart-hover: #091d10;
        --font-family: 'Poppins', sans-serif;
    }

    body {
        margin: 0;
        padding-top: 120px; 
        font-family: var(--font-family);
    }

    .site-header {
        width: 100%;
        background: #fff;
        border-bottom: 1px solid #f1f1f1;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        height: auto;
    }

    .top-bar {
        background: #000;
        color: white;
        text-align: center;
        padding: 8px 0;
        font-size: 13px;
        font-weight: 600;
    }

    .main-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 40px;
        position: relative;
        height: 70px;
    }

    .header-center {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 50px;
    }

    .nav-menu {
        font-family: 'Bodoni MT', 'Didot', 'Didot LT STD', 'Hoefler Text', 'Garamond', 'Times New Roman', 'serif'; 
        display: flex;
        gap: 30px;
        align-items: center;
    }

    .nav-menu a {
        text-decoration: none;
        color: #000;
        font-size: 15px;
        font-weight: 500;
        transition: all 0.3s ease;
        white-space: nowrap;
        position: relative;
        padding-bottom: 5px;
    }

    .nav-menu a:hover {
        color: var(--header-color);
    }

    .nav-menu a::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 50%;
        background-color: var(--header-color);
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }

    .nav-menu a:hover::after {
        width: 100%;
    }


    .logo-text {
        font-family: 'Bodoni MT', 'Didot', 'Didot LT STD', 'Hoefler Text', 'Garamond', 'Times New Roman', serif; 
        font-size: 20px;
        font-weight: 700;
        color: #000;
        text-decoration: none;
        letter-spacing: 1.5px;
        white-space: nowrap; 
            position: relative;
    top: 1px;

    }


    .mobile-logo {
        display: none;
    }

    .desktop-logo {
        display: block;
    }

    .icon-link, 
    .menu-toggle {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: none;
        border: none;
        cursor: pointer;
        padding: 5px;
    }
    
    .icon-link svg, 
    .menu-toggle svg,
    .close-menu svg,
    .close-search svg {
        stroke: var(--header-color);
        transition: transform 0.2s, stroke 0.3s;
        width: 22px; 
        height: 22px;
    }

    .icon-link:hover svg {
        transform: scale(1.1);
        stroke: #2a524a;
    }

    .header-left, .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
        position: relative;
    }

    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-toggle {
        text-decoration: none;
        color: #000;
        font-size: 15px;
        font-weight: 500;
        transition: all 0.3s ease;
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        padding-bottom: 5px;
    }

    .dropdown-toggle::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 50%;
        background-color: var(--header-color);
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }

    .dropdown-toggle:hover::after {
        width: 100%;
    }

    .dropdown-toggle:hover {
        color: var(--header-color);
    }

    .dropdown-menu {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        background: white;
        border: 1px solid #f1f1f1;
        border-radius: 8px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        padding: 15px 20px;
        display: none;
        min-width: 200px;
        z-index: 1001;
        margin-top: 10px;
        flex-direction: column;
        gap: 12px;
    }

    .dropdown:hover .dropdown-menu {
        display: flex;
    }

    .dropdown-menu a {
        text-decoration: none;
        color: #333;
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s;
        white-space: nowrap;
        padding: 8px 0;
        border-bottom: 1px solid #f5f5f5;
    }

    .dropdown-menu a:last-child {
        border-bottom: none;
    }

    .dropdown-menu a:hover {
        color: var(--header-color);
    }

    .mobile-menu {
        position: fixed;
        top: 0;
        left: -100%;
        width: 300px;
        height: 100vh;
        background: white;
        border-right: 1px solid #f1f1f1;
        z-index: 2000;
        transition: left 0.3s ease;
        overflow-y: auto;
        box-shadow: 2px 0 10px rgba(0,0,0,0.1);
    }

    .mobile-menu.active {
        left: 0;
    }

    .mobile-menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 1999;
        display: none;
    }

    .mobile-menu-overlay.active {
        display: block;
    }

    .nav-mobile {
        display: flex;
        flex-direction: column;
        padding: 80px 20px 20px;
        gap: 0;
    }

    .nav-mobile a {
        text-decoration: none;
        color: #000;
        font-size: 16px;
        font-weight: 500;
        padding: 15px 0;
        border-bottom: 1px solid #f5f5f5;
        transition: color 0.3s;
    }

    .nav-mobile a:hover {
        color: var(--header-color);
        background: #f9f9f9;
    }

    .close-menu {
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 5px;
    }

    /* Styles pour la recherche */
    .search-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.98);
        display: none;
        flex-direction: column;
        z-index: 2000;
        animation: slideDown 0.3s ease;
    }

    .search-popup.active {
        display: flex;
    }

    .search-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 40px 20px;
        width: 100%;
    }

    .search-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding-bottom: 15px;
        border-bottom: 1px solid #eee;
    }

    .search-header h3 {
        font-size: 24px;
        font-weight: 600;
        color: #333;
        margin: 0;
        font-family: var(--font-family);
    }

    .close-search {
        background: none;
        border: none;
        cursor: pointer;
        padding: 5px;
        transition: transform 0.2s;
    }

    .close-search:hover {
        transform: rotate(90deg);
    }

    .search-box {
        margin-bottom: 20px;
    }

    .search-input-wrapper {
        position: relative;
        display: flex;
        align-items: center;
    }

    .search-icon {
        position: absolute;
        left: 15px;
        z-index: 2;
    }

    .search-input-wrapper input[type="search"] {
        width: 100%;
        padding: 15px 15px 15px 45px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px;
        font-family: var(--font-family);
        transition: all 0.3s ease;
        background: #fff;
    }

    .search-input-wrapper input[type="search"]:focus {
        outline: none;
        border-color: var(--header-color);
        box-shadow: 0 0 0 3px rgba(28, 57, 52, 0.1);
    }

    /* Suggestions de recherche */
    .search-suggestions {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #eee;
    }

    .suggestion-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
    }

    .suggestion-tag {
        display: inline-block;
        padding: 6px 12px;
        background: #f5f5f5;
        color: #333;
        text-decoration: none;
        border-radius: 20px;
        font-size: 13px;
        transition: all 0.3s ease;
        border: 1px solid #e0e0e0;
    }

    .suggestion-tag:hover {
        background: var(--header-color);
        color: white;
        border-color: var(--header-color);
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* --- PANIER SIDEBAR --- */
    .cart-sidebar {
        position: fixed;
        top: 0;
        right: -400px;
        width: 380px;
        height: 100vh;
        background: white;
        box-shadow: -2px 0 15px rgba(0,0,0,0.2);
        transition: right 0.3s ease;
        z-index: 2001;
        display: flex;
        flex-direction: column;
    }

    .cart-sidebar.active {
        right: 0;
    }

    .cart-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 2000;
        display: none;
    }

    .cart-overlay.active {
        display: block;
    }

    /* En-t√™te du panier */
    .cart-header {
        background: white;
        color: black;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #eee;
    }

    .cart-header h3 {
        font-size: 18px;
        font-weight: 600;
        color: #333;
        margin: 0;
    }

    .close-cart {
        background: none;
        border: none;
        color: #333;
        font-size: 20px;
        cursor: pointer;
        padding: 0;
        line-height: 1;
    }
    
    .close-cart svg {
        stroke: #333;
        width: 24px;
        height: 24px;
        transition: transform 0.2s;
    }
    
    .close-cart:hover svg {
        transform: rotate(90deg);
    }
    
    /* Barre de progression de livraison */
    .shipping-progress {
        padding: 10px 15px 15px;
        background: #fff;
        border-bottom: 1px solid #ddd;
    }

    .shipping-goal {
        text-align: center;
        font-size: 13px;
        margin-bottom: 10px;
        line-height: 1.4;
        color: #333;
    }

    .shipping-goal strong {
        color: var(--primary-color-cart);
        font-weight: 600;
        display: block; 
        margin-bottom: 4px;
        font-size: 14px;
    }

    .progress-bar-container {
        height: 8px;
        background: #e0e0e0;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 8px;
    }

    .progress-bar-fill {
        height: 100%;
        background: var(--primary-color-cart);
        transition: width 0.3s ease;
    }

    .cart-content {
        flex: 1;
        overflow-y: auto;
        padding: 0 15px;
    }

    /* Article dans le panier */
    .cart-item {
        display: flex;
        align-items: flex-start;
        padding: 15px 0;
        border-bottom: 1px solid #f1f1f1;
    }

    .item-details-wrapper {
        flex: 1;
        display: flex;
    }

    .item-image {
        width: 70px;
        height: 70px;
        border-radius: 4px;
        overflow: hidden;
        margin-right: 15px;
        flex-shrink: 0;
        border: 1px solid #eee;
        position: relative;
    }

    .item-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Navigation entre images dans le panier */
    .image-navigation {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: 4px;
        padding: 4px;
        background: rgba(0,0,0,0.3);
    }

    .image-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: rgba(255,255,255,0.5);
        cursor: pointer;
        transition: background 0.2s;
    }

    .image-dot.active {
        background: white;
    }

    .item-info {
        flex-grow: 1;
        padding-right: 10px;
    }

    .item-name {
        font-weight: 500;
        margin-bottom: 3px;
        color: #333;
        font-size: 14px;
        line-height: 1.2;
    }

    .item-variant {
        color: #666;
        font-size: 12px;
        margin-bottom: 10px;
    }

    /* Colonne de droite pour prix et suppression */
    .right-column-controls {
        display: flex; 
        flex-direction: column; 
        align-items: flex-end; 
        justify-content: space-between;
        height: 70px;
    }

    .remove-item-icon {
        width: 20px;
        height: 20px;
        color: #999;
        cursor: pointer;
        transition: color 0.2s;
    }
    
    .remove-item-icon:hover {
        color: #ff4444;
    }

    .item-price {
        font-weight: bold;
        color: #333;
        text-align: right;
        flex-shrink: 0;
        font-size: 16px;
    }

    /* Contr√¥les de quantit√© */
    .item-quantity-controls {
        display: flex;
        align-items: center;
        border: 1px solid #ddd;
        border-radius: 20px;
        overflow: hidden;
        flex-shrink: 0;
        height: 28px;
        width: 90px;
    }

    .quantity-btn {
        width: 28px;
        height: 28px;
        background: #fff;
        border: none;
        color: #666;
        cursor: pointer;
        font-size: 18px;
        font-weight: 300;
        transition: background 0.2s;
        line-height: 1;
        padding: 0;
        box-sizing: border-box;
    }
    
    .quantity-btn:hover {
        background: #f1f1f1;
    }

    .quantity-value {
        font-weight: 500;
        min-width: 30px;
        text-align: center;
        font-size: 14px;
        color: #333;
    }
    
    /* Instructions sp√©ciales */
    .special-instructions {
        margin: 20px 0;
        padding: 0 0 10px 0;
    }

    .instructions-label {
        display: block;
        font-size: 14px;
        font-weight: 500;
        color: #555;
        margin-bottom: 10px;
    }

    .instructions-placeholder-box {
        height: 70px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background-color: #f9f9f9;
        text-align: center;
        line-height: 70px;
        font-size: 13px;
        color: #999;
        cursor: pointer;
    }
    
    .instructions-input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        resize: vertical;
        min-height: 60px;
        margin-top: 10px;
        font-family: var(--font-family);
        box-sizing: border-box;
        font-size: 14px;
        display: none;
    }

    .cart-footer {
        padding: 15px;
        border-top: 1px solid #ddd;
        background: #fff;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        flex-shrink: 0;
    }

    .subtotal {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        font-weight: bold;
        font-size: 16px;
        color: #333;
    }
    
    .subtotal span:last-child {
        font-size: 18px;
    }

    .checkout-btn {
        width: 100%;
        padding: 15px;
        background: var(--primary-color-cart);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        margin-bottom: 10px;
        transition: background 0.3s;
        text-transform: uppercase;
    }
    
    .checkout-btn:hover {
        background: var(--primary-color-cart-hover);
    }

    .view-cart-link {
        display: block;
        text-align: center;
        color: #777;
        text-decoration: none;
        font-weight: 500;
        font-size: 13px;
    }
    
    .view-cart-link:hover {
        text-decoration: underline;
    }
    
    /* Cart Count */
    .cart-count {
        position: absolute;
        top: -8px;
        right: -8px;
        background: var(--primary-color-cart);
        color: white;
        border-radius: 50%;
        width: 18px;
        height: 18px;
        font-size: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }

    /* MOBILE LEFT - CACH√â SUR DESKTOP */
    .mobile-left {
        display: none;
        align-items: center;
        gap: 25px; 
    }

    .mobile-search {
        display: none;
    }

    .menu-toggle {
        display: none;
    }

    /* Styles pour le modal de d√©tails */
    .product-details-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 3000;
        display: none;
    }

    .product-details-modal.active {
        display: block;
    }

    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 3001;
    }

    .modal-content {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        border-radius: 12px;
        width: 90%;
        max-width: 900px;
        max-height: 90vh;
        overflow-y: auto;
        z-index: 3002;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        animation: modalAppear 0.3s ease;
    }

    @keyframes modalAppear {
        from {
            opacity: 0;
            transform: translate(-50%, -48%);
        }
        to {
            opacity: 1;
            transform: translate(-50%, -50%);
        }
    }

    .close-modal {
        position: absolute;
        top: 15px;
        right: 15px;
        background: white;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }

    .close-modal:hover {
        background: #f5f5f5;
        transform: rotate(90deg);
    }

    .modal-body {
        padding: 40px;
    }


  .product-name {
    font-size: 0.9em;
  }
  
  .product-price {
    font-size: 0.95em;
  }

 .product-details-image {
        position: relative;
    }

    .product-details-image img {
        width: 100%;
        height: auto;
        border-radius: 8px;
        object-fit: cover;
    }

    /* Navigation entre images dans le modal */
    .modal-image-navigation {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 15px;
    }

    .modal-image-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #ddd;
        cursor: pointer;
        transition: background 0.2s;
    }

    .modal-image-dot.active {
        background: var(--header-color);
    }

    .modal-image-arrows {
        position: absolute;
        top: 50%;
        width: 100%;
        display: flex;
        justify-content: space-between;
        transform: translateY(-50%);
        padding: 0 10px;
        box-sizing: border-box;
    }

    .modal-image-arrow {
        width: 40px;
        height: 40px;
        background: rgba(255,255,255,0.7);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.2s;
    }

    .modal-image-arrow:hover {
        background: rgba(255,255,255,0.9);
    }

    .product-details-info {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .details-title {
        font-size: 28px;
        font-weight: 700;
        color: #333;
        margin: 0;
    }

    .details-price {
        font-size: 24px;
        font-weight: 600;
        color: var(--primary-color-cart);
        margin: 0;
    }

    .details-description {
        font-size: 16px;
        line-height: 1.6;
        color: #666;
        margin: 0;
        /* AJOUT DE CETTE LIGNE POUR PR√âSERVER LES SAUTS DE LIGNE */
        white-space: pre-line;
    }

    .details-actions {
        display: flex;
        gap: 15px;
        margin-top: 20px;
    }

    .details-cart-btn,
    .details-wishlist-btn {
        flex: 1;
        padding: 15px 20px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    .details-cart-btn {
        background: var(--primary-color-cart);
        color: white;
    }

    .details-cart-btn:hover {
        background: var(--primary-color-cart-hover);
        transform: translateY(-2px);
    }

    .details-wishlist-btn {
        background: #f8f9fa;
        color: #333;
        border: 2px solid #e9ecef;
    }

    .details-wishlist-btn:hover {
        background: #e9ecef;
        transform: translateY(-2px);
    }

    /* Styles pour les filtres de prix */
    .price-inputs {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
    }

    .price-input-group {
        display: flex;
        align-items: center;
        flex: 1;
        border: 1px solid #ddd;
        border-radius: 4px;
        overflow: hidden;
    }

    .price-input-group .currency-symbol {
        padding: 8px 10px;
        background: #f5f5f5;
        color: #666;
        font-size: 14px;
        border-right: 1px solid #ddd;
    }

    .price-input-group input {
        border: none;
        padding: 8px;
        width: 100%;
        outline: none;
    }

    .apply-price-filter {
        width: 100%;
        padding: 10px;
        background: var(--primary-color-cart);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.3s;
    }

    .apply-price-filter:hover {
        background: var(--primary-color-cart-hover);
    }

    /* Responsive pour le modal */
    @media (max-width: 768px) {
        .product-details-container {
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .modal-body {
            padding: 30px 20px;
        }

        .details-actions {
            flex-direction: column;
        }

        .details-title {
            font-size: 24px;
        }

        .details-price {
            font-size: 20px;
        }
    }

    /* Responsive */
    @media (max-width: 950px) {
        .main-header {
            padding: 15px 20px;
        }
        
        .header-center {
            display: none;
        }
        
        .header-left {
            display: none;
        }
        
        .mobile-left {
            display: flex;
        }
        
        .menu-toggle {
            display: block;
        }
        
        .mobile-search {
            display: block;
        }
        
        .mobile-logo {
            display: block;
        }
        
        .desktop-logo {
            display: none;
        }
        
        .header-right {
            gap: 15px;
        }
        
        body {
            padding-top: 110px;
        }
    }

    @media (max-width: 768px) {
        .logo-text {
            font-size: 24px;
        }
        
        .top-bar {
            font-size: 12px;
            padding: 6px 0;
        }

        .search-container {
            padding: 20px 15px;
        }
        
        .search-header h3 {
            font-size: 20px;
        }
        
        .search-input-wrapper input[type="search"] {
            padding: 12px 12px 12px 40px;
            font-size: 16px;
        }
    }

    @media (max-width: 480px) {
        .main-header {
            padding: 12px 15px;
        }
        
        .logo-text {
            font-size: 15px;
        }
        
        .mobile-menu {
            width: 280px;
        }

        .search-header h3 {
            font-size: 18px;
        }
        
        .search-input-wrapper input[type="search"] {
            font-size: 14px;
            padding: 10px 10px 10px 35px;
        }

        .mobile-left {
            gap: 20px;
        }
    }

    @media (max-width: 400px) {
        .cart-sidebar {
            width: 100%;
        }
        
        .mobile-left {
            gap: 15px;
        }
    }

    /* Styles pour les produits */
    :root {
      --primary-color: #1c3934;
      --secondary-color: #333;
      --text-color: #000;
      --light-text: #666;
      --border-color: #ddd;
      --background-color: #fff;
      --price-discount-color: #f00;
    }

    .promo-bar {
     font-family: 'Bodoni MT', 'Didot', 'Didot LT STD', 'Hoefler Text', 'Garamond', 'Times New Roman', serif; 
      background-color: #1c3934;
      text-align: center;
      padding: 30px 10px;
      font-size: 1.7rem;
      color: #fff;
    }

    .promo-bar p {
      margin-bottom: 15px;
    }

    .email-input {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }

    .email-input input {
      padding: 10px 20px;
      border: 1px solid #ccc;
      border-radius: 50px;
      min-width: 300px;
      outline: none;
    }

    .email-input button {
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 50px;
      padding: 10px 20px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .email-input button:hover {
      background-color: #7a1e8b;
    }

    .page-title {
        font-family: 'Bodoni MT', 'Didot', 'Didot LT STD', 'Hoefler Text', 'Garamond', 'Times New Roman', serif;
      text-align: center;
      padding: 50px 0 20px;
      font-size: 2em;
      font-weight: 400;
      letter-spacing: 3px;
      text-transform: uppercase;
    }

    /* Filter and Sort Bar */
    .filter-sort-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: #f8f8f8;
      border-bottom: 1px solid #e0e0e0;
      margin-bottom: 20px;
    }

    .filter-toggle {
      display: none;
    }

    .filter-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 15px;
      background: var(--primary-color-cart);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
    }

    .filter-btn:hover {
      background: var(--primary-color-cart-hover);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(28, 57, 52, 0.3);
    }

    .filter-count {
      background: #e74c3c;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      margin-left: 5px;
    }

    .sort-options {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .sort-label {
      font-size: 14px;
      color: #666;
      white-space: nowrap;
    }

    .sort-options select {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: white;
      font-size: 14px;
      min-width: 150px;
      cursor: pointer;
    }

    .results-count {
      font-size: 14px;
      color: #666;
      font-weight: 500;
    }

    /* Mobile Filter Sidebar */
    .mobile-filter-sidebar {
      position: fixed;
      top: 0;
      left: -100%;
      width: 320px;
      height: 100vh;
      background: white;
      border-right: 1px solid #f1f1f1;
      z-index: 2002;
      transition: left 0.3s ease;
      overflow-y: auto;
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
    }

    .mobile-filter-sidebar.active {
      left: 0;
    }

    .mobile-filter-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 2001;
      display: none;
    }

    .mobile-filter-overlay.active {
      display: block;
    }

    .filter-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      border-bottom: 1px solid #eee;
      background: #f8f8f8;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .filter-header h3 {
      margin: 0;
      font-size: 18px;
      color: #333;
      font-weight: 600;
    }

    .close-filter {
      background: none;
      border: none;
      cursor: pointer;
      padding: 5px;
      transition: transform 0.2s;
    }

    .close-filter:hover {
      transform: rotate(90deg);
    }

    .filter-content {
      padding: 20px;
    }

    .filter-actions {
      display: flex;
      gap: 10px;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }

    .clear-filters {
      flex: 1;
      padding: 12px;
      background: #f8f8f8;
      color: #333;
      border: 1px solid #ddd;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .clear-filters:hover {
      background: #e9e9e9;
    }

    .apply-filters {
      flex: 2;
      padding: 12px;
      background: var(--primary-color-cart);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .apply-filters:hover {
      background: var(--primary-color-cart-hover);
      transform: translateY(-1px);
    }

    .main-container {
      display: flex;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px 50px;
      gap: 30px;
    }

    .sidebar {
      width: 250px;
    }

    .filter-section {
      margin-bottom: 30px;
      border-radius: 30px;
    }

    .filter-heading {
      font-size: 1.1em;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .filter-option {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .filter-option input {
      accent-color: var(--primary-color);
    }

    .price-info {
      color: var(--light-text);
      font-size: 0.9em;
      margin-bottom: 10px;
    }

    .price-range {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .products-grid {
      flex: 1;
    }

    .sort-container {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 20px;
    }

    .sort-container select {
      padding: 10px;
      border: 1px solid var(--border-color);
      font-size: 0.9em;
    }

.product-list {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
}

@media (min-width: 768px) {
  .product-list {
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
  }
}
.product-image {
  width: 100%;
  height: 180px;
  object-fit: cover;
  transition: transform 0.3s ease;
}

@media (min-width: 768px) {
  .product-image {
    height: 250px;
  }
}
    .product-card {
    font-family: 'Bodoni MT', 'Didot', 'Didot LT STD', 'Hoefler Text', 'Garamond', 'Times New Roman', serif; 
      text-align: center;
      position: relative;
      background: white;
      border-radius: 8px;
      overflow: hidden;
    }



    .product-image-container {
      position: relative;
      overflow: hidden;
      cursor: pointer;
      background: #f9f9f9;
    }

    .product-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .product-image-container:hover .product-image {
      transform: scale(1.05);
    }

    .product-actions {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      gap: 10px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .product-image-container:hover .product-actions {
      opacity: 1;
    }

    .action-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: white;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      font-size: 16px;
      color: #333;
    }

    .action-btn:hover {
      background: var(--primary-color);
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
    }

    .action-btn.wishlist-btn:hover {
      background: #e91e63;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
    }

    .action-btn.addtocart-btn:hover {
      background: #4caf50;
      box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
    }

    .action-btn.view-btn:hover {
      background: #2196f3;
      box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
    }

  .product-name {
   font-family: "Cormorant Garamond", serif;
    font-weight: 700;
    font-size: 1em;
    margin: 15px 0 5px;
    padding: 0 10px;
    text-align: center;
    /* CORRECTION : Permet les sauts de ligne et assure une hauteur uniforme */
    white-space: normal;
    line-height: 1.3;
    min-height: 2.6em; /* Espace pour 2 lignes */
  }

  .product-price {

    font-weight: 700;
    font-style: normal;
    font-weight: 700;
    color: black;
    margin: 5px 0 15px;
    padding: 0 10px;
    text-align: center;
    font-size: 1.6em;
  }


    .product-price .new-price {
      color: var(--primary-color);
      font-size: 1.1em;
    }

    .product-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      padding: 5px 10px;
      border-radius: 20px;
      color: white;
      font-size: 0.8em;
      font-weight: 600;
      z-index: 1;
    }

    .product-badge.promo {
      background-color: var(--primary-color);
    }

    .product-badge.epuise {
      background-color: #000;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-container {
        flex-direction: column;
      }
      
      .sidebar {
        display: none;
      }
      
      .filter-toggle {
        display: block;
      }
      
      .filter-sort-bar {
        padding: 12px 15px;
        flex-wrap: wrap;
        gap: 10px;
      }
      
      .sort-options .sort-label {
        display: none;
      }
      
      .sort-options select {
        min-width: 140px;
      }
      
      .results-count {
        font-size: 12px;
        order: 2;
        flex-basis: 100%;
        text-align: center;
        margin-top: 5px;
      }
      
      .action-btn {
        width: 35px;
        height: 35px;
        font-size: 14px;
      }
    }

    @media (max-width: 480px) {
      .filter-sort-bar {
        padding: 10px;
      }
      
      .filter-btn {
        padding: 8px 12px;
        font-size: 13px;
      }
      
      .sort-options select {
        min-width: 120px;
        padding: 6px 10px;
      }
      
      .mobile-filter-sidebar {
        width: 280px;
      }
    }
</style>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
// ‚ö° Initialisation Firebase
const firebaseConfig = {
  apiKey: "AIzaSyBB8zPrG4MjAqBm1SOxIFQdWtiCmz_v92s",
  authDomain: "luxur-6b128.firebaseapp.com",
  projectId: "luxur-6b128",
  storageBucket: "luxur-6b128.firebasestorage.app",
  messagingSenderId: "900453735371",
  appId: "1:900453735371:web:e32188ac6ea261084c344e",
  measurementId: "G-MLSDC2JWL8"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const productsContainer = document.getElementById('productList');
let products = []; // Stocker les produits charg√©s depuis Firebase
let allProducts = []; // Stocker tous les produits non filtr√©s

// Variables pour les filtres
let activeFilters = {
    inStock: true,
    outOfStock: false,
    minPrice: 0,
    maxPrice: 36200
};

// Fonction pour obtenir la cat√©gorie depuis le nom de la page
function getCategoryFromPage() {
    const path = window.location.pathname;
    const pageName = path.substring(path.lastIndexOf('/') + 1).split('.')[0];
    if (pageName === 'index' || pageName === '') {
        return null; 
    }
    return pageName.toLowerCase();
}

const currentCategory = getCategoryFromPage();

// Fonction pour appliquer les filtres
function applyFilters() {
    const filteredProducts = allProducts.filter(product => {
        // Filtrer par disponibilit√©
        if (activeFilters.inStock && !product.inStock) return false;
        if (activeFilters.outOfStock && product.inStock) return false;
        
        // Filtrer par prix
        if (product.price < activeFilters.minPrice) return false;
        if (product.price > activeFilters.maxPrice) return false;
        
        return true;
    });
    
    // Appliquer le tri
    const sortValue = document.getElementById('mobileSortSelect').value;
    let sortedProducts = [...filteredProducts];
    
    switch(sortValue) {
        case 'price-asc':
            sortedProducts.sort((a, b) => a.price - b.price);
            break;
        case 'price-desc':
            sortedProducts.sort((a, b) => b.price - a.price);
            break;
        case 'newest':
            sortedProducts.sort((a, b) => (b.isNew ? 1 : 0) - (a.isNew ? 1 : 0));
            break;
        case 'best-selling':
        default:
            // Garder l'ordre par d√©faut
            break;
    }
    
    // Mettre √† jour l'affichage des produits
    displayProducts(sortedProducts);
    
    // Mettre √† jour le compteur de produits
    document.getElementById('productsCount').textContent = `${sortedProducts.length} produits`;
    
    // Mettre √† jour le compteur de filtres actifs
    updateFilterCount();
    
    // Fermer le menu de filtres mobile
    closeMobileFilter();
}

// Fonction pour afficher les produits
function displayProducts(productsToDisplay) {
    const productsContainer = document.getElementById('productList');
    productsContainer.innerHTML = '';
    
    if (productsToDisplay.length === 0) {
        productsContainer.innerHTML = `<p style="grid-column: 1 / -1; text-align: center; padding: 40px;">Aucun produit ne correspond √† vos crit√®res de filtrage.</p>`;
        return;
    }
    
    productsToDisplay.forEach(product => {
        // CORRECTION : Utiliser la premi√®re image du tableau images
        const imageUrl = product.images && product.images.length > 0 ? 
            product.images[0] : 
            'https://via.placeholder.com/250x250.png?text=Image+non+disponible';

        productsContainer.innerHTML += `
            <div class="product-card">
                <div class="product-image-container">
                    <img src="${imageUrl}" alt="${product.name}" class="product-image">
                    <div class="product-actions">
                        <button class="action-btn view-btn" data-id="${product.id}">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn wishlist-btn" data-id="${product.id}">
                            <i class="far fa-heart"></i>
                        </button>
                        <button class="action-btn addtocart-btn" data-id="${product.id}">
                            <i class="fas fa-shopping-cart"></i>
                        </button>
                    </div>
                </div>
                <h3 class="product-name">${product.name}</h3>
                <p class="product-price">${product.price} DA</p>
            </div>
        `;
    });
    
    // Attachez les √©v√©nements apr√®s avoir ajout√© les produits
    attachProductEvents();
}

// Fonction pour mettre √† jour le compteur de filtres
function updateFilterCount() {
    let count = 0;
    
    if (!activeFilters.inStock) count++;
    if (activeFilters.outOfStock) count++;
    if (activeFilters.minPrice > 0) count++;
    if (activeFilters.maxPrice < 36200) count++;
    
    document.getElementById('mobileFilterCount').textContent = count;
}

// Fonction pour effacer tous les filtres
function clearAllFilters() {
    // R√©initialiser les filtres
    activeFilters = {
        inStock: true,
        outOfStock: false,
        minPrice: 0,
        maxPrice: 36200
    };
    
    // R√©initialiser l'interface
    document.getElementById('en-stock').checked = true;
    document.getElementById('rupture').checked = false;
    document.getElementById('mobile-en-stock').checked = true;
    document.getElementById('mobile-rupture').checked = false;
    document.getElementById('price-min').value = '';
    document.getElementById('price-max').value = '';
    document.getElementById('mobile-price-min').value = '';
    document.getElementById('mobile-price-max').value = '';
    
    // Appliquer les filtres (ce qui affichera tous les produits)
    applyFilters();
}

// Fonction pour synchroniser les filtres desktop et mobile
function syncFilters() {
    // Synchroniser disponibilit√©
    document.getElementById('mobile-en-stock').checked = document.getElementById('en-stock').checked;
    document.getElementById('mobile-rupture').checked = document.getElementById('rupture').checked;
    
    // Synchroniser prix
    document.getElementById('mobile-price-min').value = document.getElementById('price-min').value;
    document.getElementById('mobile-price-max').value = document.getElementById('price-max').value;
}

// Fonctions pour le filtre mobile
function openMobileFilter() {
    syncFilters();
    document.getElementById('mobileFilterSidebar').classList.add('active');
    document.getElementById('mobileFilterOverlay').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeMobileFilter() {
    document.getElementById('mobileFilterSidebar').classList.remove('active');
    document.getElementById('mobileFilterOverlay').classList.remove('active');
    document.body.style.overflow = '';
}

// ‚ö° R√©cup√©rer les produits en temps r√©el
if (currentCategory) {
    const productsQuery = db.collection('products').where('category', '==', currentCategory);

    productsQuery.onSnapshot((snapshot) => {
        productsContainer.innerHTML = '';
        products = []; // R√©initialiser le tableau des produits
        allProducts = []; // R√©initialiser tous les produits

        if (snapshot.empty) {
            productsContainer.innerHTML = `<p style="grid-column: 1 / -1; text-align: center; padding: 40px;">Aucun produit trouv√© dans la cat√©gorie : ${currentCategory}</p>`;
            return;
        }

        snapshot.forEach(doc => {
            const product = {
                id: doc.id, // Garder l'ID de Firebase comme cha√Æne
                ...doc.data(),
                // S'assurer que les propri√©t√©s manquantes ont des valeurs par d√©faut
                images: doc.data().images ? doc.data().images : [doc.data().image],
                inStock: doc.data().inStock !== undefined ? doc.data().inStock : true,
                isNew: doc.data().isNew !== undefined ? doc.data().isNew : false
            };
            
            products.push(product);
            allProducts.push(product);
        });
        
        // Appliquer les filtres initiaux
        applyFilters();
    });

} else {
    productsContainer.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; padding: 40px;">Veuillez s√©lectionner une cat√©gorie pour voir les produits.</p>';
}

// Fonction pour attacher les √©v√©nements aux produits
function attachProductEvents() {
    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const productId = this.dataset.id; // Garder comme cha√Æne
            openProductDetails(productId);
        });
    });

    document.querySelectorAll('.addtocart-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            if (this.disabled) return;
            const productId = this.dataset.id; // Garder comme cha√Æne
            const product = products.find(p => p.id === productId);
            if (product) {
                window.cartManager.addToCart({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    images: product.images,
                    currentImageIndex: 0
                });
            }
        });
    });

    document.querySelectorAll('.wishlist-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const productId = this.dataset.id; // Garder comme cha√Æne
            toggleWishlist(productId);
            
            // Animation du c≈ìur
            this.querySelector('i').classList.toggle('far');
            this.querySelector('i').classList.toggle('fas');
        });
    });

    document.querySelectorAll('.product-image').forEach(img => {
        img.addEventListener('click', function() {
            const card = this.closest('.product-card');
            const viewBtn = card.querySelector('.view-btn');
            if (viewBtn) {
                const productId = viewBtn.dataset.id;
                const product = products.find(p => p.id === productId);
                if (product) {
                    // Sauvegarder le produit dans le localStorage
                    localStorage.setItem('selectedProduct', JSON.stringify(product));
                    // Rediriger vers la page cart.html
                    window.location.href = 'cart.html';
                }
            }
        });
    });
}

// Fonction pour ouvrir le modal de d√©tails
function openProductDetails(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;

    const modalBody = document.getElementById('modalBody');
    let currentImageIndex = 0;
    
    function updateModalImage() {
        modalBody.querySelector('.product-details-image img').src = product.images[currentImageIndex];
        
        // Mettre √† jour les indicateurs
        const dots = modalBody.querySelectorAll('.modal-image-dot');
        dots.forEach((dot, index) => {
            if (index === currentImageIndex) {
                dot.classList.add('active');
            } else {
                dot.classList.remove('active');
            }
        });
    }
    
    modalBody.innerHTML = `
        <div class="product-details-container">
            <div class="product-details-image">
                <img src="${product.images[0]}" alt="${product.name}">
                <div class="modal-image-arrows">
                    <div class="modal-image-arrow" id="prevImage">
                        <i class="fas fa-chevron-left"></i>
                    </div>
                    <div class="modal-image-arrow" id="nextImage">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                <div class="modal-image-navigation">
                    ${product.images.map((_, index) => `
                        <div class="modal-image-dot ${index === 0 ? 'active' : ''}" data-index="${index}"></div>
                    `).join('')}
                </div>
            </div>
            <div class="product-details-info">
                <h2 class="details-title">${product.name}</h2>
                <p class="details-price">${window.cartManager.formatPrice(product.price)}</p>
                <p class="details-description">${product.description || 'Aucune description disponible'}</p>
                
                <div class="details-actions">
                    <button class="details-cart-btn" onclick="window.cartManager.addToCart(${JSON.stringify(product).replace(/"/g, '&quot;')}); closeProductDetails();" ${!product.inStock ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                        <i class="fas fa-shopping-cart"></i>
                        ${product.inStock ? 'Ajouter au panier' : '√âpuis√©'}
                    </button>
                    <button class="details-wishlist-btn" onclick="toggleWishlist('${product.id}')">
                        <i class="far fa-heart"></i>
                        Favoris
                    </button>
                </div>
            </div>
        </div>
    `;

    // Ajouter les √©v√©nements pour la navigation d'images
    document.getElementById('prevImage').addEventListener('click', () => {
        currentImageIndex = (currentImageIndex - 1 + product.images.length) % product.images.length;
        updateModalImage();
    });
    
    document.getElementById('nextImage').addEventListener('click', () => {
        currentImageIndex = (currentImageIndex + 1) % product.images.length;
        updateModalImage();
    });
    
    // Ajouter les √©v√©nements pour les points indicateurs
    document.querySelectorAll('.modal-image-dot').forEach(dot => {
        dot.addEventListener('click', () => {
            currentImageIndex = parseInt(dot.dataset.index);
            updateModalImage();
        });
    });

    document.getElementById('productDetailsModal').classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Fonction pour fermer le modal
function closeProductDetails() {
    document.getElementById('productDetailsModal').classList.remove('active');
    document.body.style.overflow = '';
}

// Fonction pour basculer les favoris
function toggleWishlist(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;

    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: #e91e63;
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        z-index: 3000;
        font-weight: 500;
        transition: transform 0.3s, opacity 0.3s;
        transform: translateX(100%);
        opacity: 0;
    `;
    notification.textContent = `‚úì ${product.name} ajout√© aux favoris`;
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
        notification.style.opacity = '1';
    }, 100);
    
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        notification.style.opacity = '0';
        setTimeout(() => {
            if (notification.parentNode) {
                document.body.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// Gestion des √©v√©nements pour le modal
document.getElementById('modalOverlay').addEventListener('click', closeProductDetails);
document.getElementById('closeModal').addEventListener('click', closeProductDetails);

// Fermer le modal avec la touche √âchap
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeProductDetails();
        closeMobileFilter();
    }
});

// --- CODE POUR LE PANIER ET LES AUTRES FONCTIONNALIT√âS ---
// (Gardez tout le reste de votre code pour le panier, le menu mobile, etc.)

// --- DONN√âES DU PANIER ---
window.cartManager = {
    cart: {
        items: [],
        shippingGoal: 9500
    },

    // --- FONCTIONS DE MISE √Ä JOUR DU PANIER ---
    calculateSubtotal: function() {
        return this.cart.items.reduce((total, item) => total + (item.price * item.quantity), 0);
    },

    formatPrice: function(amount) {
        return `DA ${amount.toLocaleString('fr-DZ')} DZD`;
    },

    updateShippingProgress: function(subtotal) {
        const goal = this.cart.shippingGoal;
        const progressElement = document.getElementById('shippingProgress');
        
        let message, progressWidth;

        if (subtotal >= goal) {
            message = `<strong style="font-size: 14px;">F√©licitations ! Vous b√©n√©ficiez de la livraison gratuite ! üéâ</strong>`;
            progressWidth = 100;
        } else {
            const needed = goal - subtotal;
            message = `
                <strong style="font-size: 14px;">D√©penser ${this.formatPrice(goal).replace(' DZD', '')} & Profitez D'Une Livraison</strong>
                Gratuite<br>Il vous manque ${this.formatPrice(needed)}`;
            progressWidth = (subtotal / goal) * 100;
            progressWidth = Math.min(progressWidth, 99);
        }

        progressElement.innerHTML = `
            <div class="shipping-goal">
                ${message}
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" style="width: ${progressWidth}%;"></div>
            </div>
        `;
    },
    
    renderCartItems: function() {
        const itemsContainer = document.getElementById('cartItems');
        itemsContainer.innerHTML = '';

        if (this.cart.items.length === 0) {
            document.getElementById('emptyCartMessage').style.display = 'block';
            document.getElementById('specialInstructionsSection').style.display = 'none';
            return;
        }

        document.getElementById('emptyCartMessage').style.display = 'none';
        document.getElementById('specialInstructionsSection').style.display = 'block';

        this.cart.items.forEach(item => {
            const itemTotal = item.price * item.quantity;
            const currentImageIndex = item.currentImageIndex || 0;
            
            const itemHTML = `
                <div class="cart-item" data-item-id="${item.id}">
                    <div class="item-details-wrapper">
                        <div class="item-image">
                            <img src="${item.images[currentImageIndex]}" alt="${item.name}">
                            <div class="image-navigation">
                                ${item.images.map((_, index) => `
                                    <div class="image-dot ${index === currentImageIndex ? 'active' : ''}" data-item-id="${item.id}" data-index="${index}"></div>
                                `).join('')}
                            </div>
                        </div>
                        <div class="item-info">
                            <div class="item-name">${item.name}</div>
                            <div class="item-variant">${item.variant || 'Standard'}</div>
                            <div class="item-quantity-controls">
                                <button class="quantity-btn minus-btn" data-id="${item.id}" data-action="decrease">-</button>
                                <span class="quantity-value">${item.quantity}</span>
                                <button class="quantity-btn plus-btn" data-id="${item.id}" data-action="increase">+</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="right-column-controls">
                        <svg xmlns="http://www.w3.org/2000/svg" class="remove-item-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" data-id="${item.id}" data-action="remove">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.86 10.9A2 2 0 0116.03 21H7.97a2 2 0 01-1.99-2.09L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3"/>
                        </svg>
                        <div class="item-price">${this.formatPrice(itemTotal).replace(' DZD', '')}</div>
                    </div>
                </div>
            `;
            itemsContainer.insertAdjacentHTML('beforeend', itemHTML);
        });
        
        // Ajouter les √©v√©nements pour la navigation d'images dans le panier
        document.querySelectorAll('.image-dot').forEach(dot => {
            dot.addEventListener('click', (e) => {
                e.stopPropagation();
                const itemId = dot.dataset.itemId;
                const imageIndex = parseInt(dot.dataset.index);
                
                // Mettre √† jour l'index de l'image pour cet article
                const item = this.cart.items.find(i => i.id === itemId);
                if (item) {
                    item.currentImageIndex = imageIndex;
                    
                    // Mettre √† jour l'image affich√©e
                    const itemElement = document.querySelector(`.cart-item[data-item-id="${itemId}"]`);
                    if (itemElement) {
                        const imgElement = itemElement.querySelector('.item-image img');
                        imgElement.src = item.images[imageIndex];
                        
                        // Mettre √† jour les indicateurs
                        const dots = itemElement.querySelectorAll('.image-dot');
                        dots.forEach((d, index) => {
                            if (index === imageIndex) {
                                d.classList.add('active');
                            } else {
                                d.classList.remove('active');
                            }
                        });
                    }
                }
            });
        });
    },

    updateCartUI: function() {
        const subtotal = this.calculateSubtotal();
        const itemCount = this.cart.items.reduce((total, item) => total + item.quantity, 0);

        document.getElementById('cartCount').textContent = itemCount;
        document.getElementById('sidebarCartCount').textContent = itemCount;

        this.renderCartItems();

        document.getElementById('subtotalAmount').textContent = this.formatPrice(subtotal);
        this.updateShippingProgress(subtotal);

        const footer = document.getElementById('cartFooter');
        const instructions = document.getElementById('specialInstructionsSection');
        if (this.cart.items.length > 0) {
            footer.style.display = 'block';
        } else {
            footer.style.display = 'none';
            instructions.style.display = 'none';
        }

        this.attachCartEventListeners();
        this.saveCartToLocalStorage();
    },

    // --- LOGIQUE D'AJOUT AU PANIER ---
    addToCart: function(product) {
        const existingItem = this.cart.items.find(item => item.id === product.id);
        
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            this.cart.items.push({
                id: product.id,
                name: product.name,
                variant: product.variant || 'Standard',
                price: product.price,
                quantity: 1,
                images: product.images,
                currentImageIndex: 0
            });
        }
        
        this.updateCartUI();
        this.openCart();
        this.showAddToCartConfirmation(product.name);
    },

    showAddToCartConfirmation: function(productName) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--primary-color-cart);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 3000;
            font-weight: 500;
            transition: transform 0.3s, opacity 0.3s;
            transform: translateX(100%);
            opacity: 0;
        `;
        notification.textContent = `‚úì ${productName} ajout√© au panier`;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
            notification.style.opacity = '1';
        }, 100);
        
        setTimeout(() => {
            notification.style.transform = 'translateX(100%)';
            notification.style.opacity = '0';
            setTimeout(() => {
                if (notification.parentNode) {
                    document.body.removeChild(notification);
                }
            }, 300);
        }, 3000);
    },

    // --- LOGIQUE DU PANIER ---
    updateItemQuantity: function(itemId, action) {
        const item = this.cart.items.find(i => i.id === itemId);
        if (!item) return;

        if (action === 'increase') {
            item.quantity++;
        } else if (action === 'decrease') {
            item.quantity = Math.max(1, item.quantity - 1);
        } else if (action === 'remove') {
            this.cart.items = this.cart.items.filter(i => i.id !== itemId);
        }

        this.updateCartUI();
    },

    attachCartEventListeners: function() {
        const cartItemsContainer = document.getElementById('cartItems');

        cartItemsContainer.querySelectorAll('.quantity-btn, .remove-item-icon').forEach(element => {
            element.removeEventListener('click', this.handleCartAction);
        });

        cartItemsContainer.querySelectorAll('.quantity-btn, .remove-item-icon').forEach(element => {
            element.addEventListener('click', this.handleCartAction.bind(this));
        });
    },

    handleCartAction: function(event) {
        const id = event.currentTarget.dataset.id;
        const action = event.currentTarget.dataset.action;
        this.updateItemQuantity(id, action);
    },
    
    // --- GESTION DU LOCALSTORAGE ---
    saveCartToLocalStorage: function() {
        localStorage.setItem('maa_luxury_cart', JSON.stringify(this.cart));
    },
    
    loadCartFromLocalStorage: function() {
        const savedCart = localStorage.getItem('maa_luxury_cart');
        if (savedCart) {
            this.cart = JSON.parse(savedCart);
            this.updateCartUI();
        }
    },
    
    // --- LOGIQUE SIDEBAR ET TOGGLE ---
    openCart: function() {
        const cartSidebar = document.getElementById('cartSidebar');
        const cartOverlay = document.getElementById('cartOverlay');
        cartSidebar.classList.add('active');
        cartOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
        this.updateCartUI();
    },

    closeCartSidebar: function() {
        const cartSidebar = document.getElementById('cartSidebar');
        const cartOverlay = document.getElementById('cartOverlay');
        cartSidebar.classList.remove('active');
        cartOverlay.classList.remove('active');
        document.body.style.overflow = '';
    }
};

// Initialisation au chargement du document
document.addEventListener('DOMContentLoaded', function() {
    window.cartManager.loadCartFromLocalStorage();
    
    const cartToggle = document.querySelectorAll('.cart-toggle');
    const closeCart = document.getElementById('closeCart');
    const cartOverlay = document.getElementById('cartOverlay');

    cartToggle.forEach(btn => btn.addEventListener('click', () => window.cartManager.openCart()));
    closeCart.addEventListener('click', () => window.cartManager.closeCartSidebar());
    cartOverlay.addEventListener('click', () => window.cartManager.closeCartSidebar());

    // --- LOGIQUE INSTRUCTIONS SP√âCIALES ---
    const instructionsPlaceholder = document.getElementById('instructionsPlaceholder');
    const instructionsInput = document.getElementById('instructionsInput');
    
    if (instructionsPlaceholder) {
        instructionsPlaceholder.addEventListener('click', () => {
            instructionsPlaceholder.style.display = 'none';
            instructionsInput.style.display = 'block';
            instructionsInput.focus();
        });
    }
    
    // --- LOGIQUE MENU MOBILE ET RECHERCHE ---
    const toggle = document.querySelector('.menu-toggle');
    const mobileMenu = document.querySelector('.mobile-menu');
    const closeMenu = document.querySelector('.close-menu');
    const overlay = document.querySelector('.mobile-menu-overlay');
    const searchToggle = document.querySelectorAll('.search-toggle');
    const searchPopup = document.querySelector('.search-popup');
    const closeSearch = document.querySelector('.close-search');

    const openMobileMenu = () => {
        mobileMenu.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    };

    const closeMobileMenu = () => {
        mobileMenu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
    };

    const openSearch = () => {
        if (searchPopup) {
            searchPopup.classList.add('active');
            setTimeout(() => {
                const searchInput = searchPopup.querySelector('input[type="search"]');
                if (searchInput) searchInput.focus();
            }, 100);
        }
    };

    const closeSearchPopup = () => {
        if (searchPopup) {
            searchPopup.classList.remove('active');
        }
    };

    // √âv√©nements du Menu mobile
    if (toggle) toggle.addEventListener('click', openMobileMenu);
    if (closeMenu) closeMenu.addEventListener('click', closeMobileMenu);
    if (overlay) overlay.addEventListener('click', closeMobileMenu);

    const mobileLinks = document.querySelectorAll('.nav-mobile a');
    mobileLinks.forEach(link => link.addEventListener('click', closeMobileMenu));

    // √âv√©nements de la Recherche
    searchToggle.forEach(btn => btn.addEventListener('click', openSearch));
    if (closeSearch) closeSearch.addEventListener('click', closeSearchPopup);

    // Fermer la recherche avec la touche √âchap
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            closeSearchPopup();
            closeMobileMenu();
            window.cartManager.closeCartSidebar();
            closeProductDetails();
            closeMobileFilter();
        }
    });
    
    // √âv√©nements pour les filtres desktop
    document.getElementById('en-stock').addEventListener('change', function() {
        activeFilters.inStock = this.checked;
        applyFilters();
    });

    document.getElementById('rupture').addEventListener('change', function() {
        activeFilters.outOfStock = this.checked;
        applyFilters();
    });

    document.getElementById('applyPriceFilter').addEventListener('click', function() {
        const minPrice = parseInt(document.getElementById('price-min').value) || 0;
        const maxPrice = parseInt(document.getElementById('price-max').value) || 36200;
        
        activeFilters.minPrice = minPrice;
        activeFilters.maxPrice = maxPrice;
        
        applyFilters();
    });

    // √âv√©nements pour les filtres mobile
    document.getElementById('mobile-en-stock').addEventListener('change', function() {
        activeFilters.inStock = this.checked;
    });

    document.getElementById('mobile-rupture').addEventListener('change', function() {
        activeFilters.outOfStock = this.checked;
    });

    document.getElementById('mobile-applyPriceFilter').addEventListener('click', function() {
        const minPrice = parseInt(document.getElementById('mobile-price-min').value) || 0;
        const maxPrice = parseInt(document.getElementById('mobile-price-max').value) || 36200;
        
        activeFilters.minPrice = minPrice;
        activeFilters.maxPrice = maxPrice;
    });

    document.getElementById('mobileApplyFilters').addEventListener('click', applyFilters);
    document.getElementById('mobileClearFilters').addEventListener('click', clearAllFilters);

    // √âv√©nement pour ouvrir le menu de filtres mobile
    document.getElementById('mobileFilterToggle').addEventListener('click', openMobileFilter);

    // √âv√©nement pour fermer le menu de filtres mobile
    document.getElementById('closeMobileFilter').addEventListener('click', closeMobileFilter);
    document.getElementById('mobileFilterOverlay').addEventListener('click', closeMobileFilter);

    // √âv√©nement pour le tri
    document.getElementById('mobileSortSelect').addEventListener('change', applyFilters);
});

// Rendre la fonction addToCart disponible globalement pour les autres scripts
window.addToCart = function(product) {
    window.cartManager.addToCart(product);
};
</script>
<footer>
  <div class="container">
    <div class="footer-grid">
      <!-- Branding -->
      <div class="footer-col footer-branding">
        <a href="/" class="footer-logo">
          <img src="https://scontent.falg6-1.fna.fbcdn.net/v/t1.15752-9/554322545_1529156254887922_7655227848082771962_n.jpg?stp=dst-jpg_s720x720_tt6&_nc_cat=108&ccb=1-7&_nc_sid=0024fc&_nc_ohc=m63xPoUNZyIQ7kNvwEAllVP&_nc_oc=Adl-PBNOr82Cw9HWK_wdib8Nrtg0PSVIQd_2161b9OOf_KNP_H4XdyXbKTwE_zAxP88&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent.falg6-1.fna&oh=03_Q7cD3gFn8Vbopf1hKeJ6aDNh7WyKzx1l8a5uORB2OW1kc5Owhw&oe=690A90B1" alt="MA Logo" loading="lazy">
        </a>
        <div class="social-links">
          <a href="https://www.instagram.com/Montre De Luxe" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.instagram.com/Montre De Luxe" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="https://www.tiktok.com/@maa.accessoires" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
        </div>
      </div>

      <!-- Cat√©gories -->
      <div class="footer-col categories-dropdown">
        <h3>CAT√âGORIES</h3>
        <!-- Liste pour desktop -->
        <ul>
          <li><a href="rolex.html">Rolex</a></li>
          <li><a href="omega.html">Omega</a></li>
          <li><a href="hublot.html">Hublot</a></li>
          <li><a href="patek.html">Patek Philippe</a></li>
          <li><a href="aumdemares.html">Audemars Piguet</a></li>
          <li><a href="rolex3a.html">Rolex 3A</a></li>
        </ul>
        <!-- Select pour mobile -->
        <select aria-label="S√©lectionner une cat√©gorie" onchange="if(this.value) window.location.href=this.value">
          <li><a href="rolex.html">Rolex</a></li>
          <li><a href="omega.html">Omega</a></li>
          <li><a href="hublot.html">Hublot</a></li>
          <li><a href="patek.html">Patek Philippe</a></li>
          <li><a href="aumdemares.html">Audemars Piguet</a></li>
          <li><a href="rolex3a.html">Rolex 3A</a></li>
        </select>
      </div>

      <!-- Politiques -->
      <div class="footer-col policies-dropdown">
        <h3>POLITIQUES DU MAGASIN</h3>
        <!-- Liste pour desktop -->
        <ul>
          <li><a href="Politique.html">Politique de confidentialit√©</a></li>
        </ul>
        <!-- Select pour mobile -->

      </div>

      <!-- Newsletter -->
      <div class="footer-col footer-newsletter">
        <h3>ENTREZ VOTRE EMAIL POUR SUIVRE LES TENDANCES ET OBTENIR DES BONUS EXCLUSIFS!</h3>
        <form action="#" method="post" class="newsletter-form">
          <input type="email" name="email" placeholder="Email" aria-label="Votre adresse email" required>
          <button type="submit">S'INSCRIRE</button>
        </form>
      </div>
    </div>

    <div class="footer-bottom">
      <p class="copyright">&copy; 2025, Montre De Luxe. Tous droits r√©serv√©s.</p>

    </div>
  </div>
</footer>
<style>
    :root {
  --main-bg-color: #1c3934;
  --main-text-color: #d4af7a;
  --light-text-color: rgba(212,175,122,0.7);
  --input-bg-color: rgba(255,255,255,0.1);
  --input-border-color: rgba(212,175,122,0.4);
}

/* --- RESET DE BASE --- */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  overflow-x: hidden; /* Emp√™che le d√©filement horizontal */
  width: 100%;
}

/* --- FOOTER --- */
/* --- FOOTER --- */
footer {
  background-color: var(--main-bg-color);
  color: var(--main-text-color);
  padding: 50px 20px 20px 20px;
  font-family: 'Inter', sans-serif;
  width: 100%;
  position: relative;

  /* ‚úÖ Ajoute un gros espace au-dessus du footer */
  margin-top: 120px; 
}


/* Conteneur centr√© */
footer .container {
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

/* Grille */
.footer-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 40px;
  margin-bottom: 40px;
  text-align: center;
  width: 100%;
}

/* --- Branding --- */
.footer-branding {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.footer-logo img {
  max-width: 150px;
  height: auto;
  margin-bottom: 25px;
}

.social-links {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
  justify-content: center;
  flex-wrap: wrap;
}

.social-links a {
  color: var(--main-text-color);
  font-size: 24px;
  transition: color 0.3s ease;
}

.social-links a:hover {
  color: #fff;
}

/* --- Liens --- */
.footer-col h3 {
  font-family: 'Playfair Display', serif;
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 25px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.footer-col ul {
  list-style: none;
}

.footer-col ul li {
  margin-bottom: 12px;
}

.footer-col ul li a {
  color: var(--light-text-color);
  text-decoration: none;
  font-size: 15px;
  transition: color 0.3s ease;
}

.footer-col ul li a:hover {
  color: var(--main-text-color);
}

/* --- Dropdown mobile --- */
.categories-dropdown select,
.policies-dropdown select {
  display: none;
  width: 100%;
  padding: 10px;
  border-radius: 5px;
  border: 1px solid var(--input-border-color);
  background-color: var(--input-bg-color);
  color: var(--main-text-color);
  font-size: 15px;
}

/* --- Newsletter --- */
.footer-newsletter h3 {
  margin-bottom: 25px;
  line-height: 1.4;
}

.newsletter-form {
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: center;
}

.newsletter-form input[type="email"] {
  background-color: var(--input-bg-color);
  border: 1px solid var(--input-border-color);
  padding: 12px 15px;
  color: var(--main-text-color);
  border-radius: 5px;
  width: 100%;
  max-width: 300px;
  font-size: 15px;
  outline: none;
}

.newsletter-form input[type="email"]::placeholder {
  color: var(--light-text-color);
}

.newsletter-form button {
  background-color: var(--main-text-color);
  color: var(--main-bg-color);
  border: none;
  padding: 12px 25px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
  text-transform: uppercase;
  transition: background-color 0.3s ease;
  width: 100%;
  max-width: 300px;
}

.newsletter-form button:hover {
  background-color: #fff;
  color: var(--main-bg-color);
}

/* --- Bas du footer --- */
.footer-bottom {
  border-top: 1px solid var(--input-border-color);
  padding-top: 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  width: 100%;
}

.copyright {
  font-size: 13px;
  color: var(--light-text-color);
  text-align: center;
}

.language-selector select {
  background-color: var(--input-bg-color);
  border: 1px solid var(--input-border-color);
  color: var(--main-text-color);
  padding: 8px 12px;
  border-radius: 5px;
  font-size: 14px;
  cursor: pointer;
  appearance: none;
}

/* --- Responsive --- */

/* Tablettes */
@media (min-width: 768px) {
  .footer-grid {
    grid-template-columns: repeat(2, 1fr);
    text-align: left;
  }
  .footer-branding {
    align-items: flex-start;
  }
  .newsletter-form {
    flex-direction: row;
    gap: 10px;
    justify-content: flex-start;
  }
  .newsletter-form input,
  .newsletter-form button {
    width: auto;
    max-width: none;
  }
  .language-selector select {
    min-width: 150px;
  }
}

/* Desktop */
@media (min-width: 992px) {
  .footer-grid {
    grid-template-columns: 1.5fr repeat(3, 1fr);
    gap: 30px;
  }
  .footer-bottom {
    position: relative;

    flex-direction: row;
    justify-content: space-between;
    gap: 0;
  }
}

/* Mobile : afficher select */
@media (max-width: 768px) {
  .footer-col ul {
    display: none;
  }
  .categories-dropdown select,
  .policies-dropdown select {
    display: block;
  }
}

/* Petits √©crans */
@media (max-width: 480px) {
  footer {
    padding: 40px 20px 15px 20px;
  }
  .footer-col h3 {
    font-size: 16px;
    margin-bottom: 20px;
  }
  .footer-logo img {
    max-width: 120px;
  }
  .social-links {
    gap: 15px;
  }
  .social-links a {
    font-size: 20px;
  }
  .footer-col ul li a,
  .newsletter-form input,
  .newsletter-form button {
    font-size: 14px;
  }
  .copyright {
    font-size: 12px;
  }
}
</style>
</body>
</html>     